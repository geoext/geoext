<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Ext-grid-column-Action'>/**
</span> * A Grid header type which renders an icon, or a series of icons in a grid cell, and offers a scoped click
 * handler for each icon.
 *
 *     @example
 *     // Init the singleton.  Any tag-based quick tips will start working.
 *     Ext.tip.QuickTipManager.init();
 *
 *     Ext.create(&#39;Ext.data.Store&#39;, {
 *         storeId:&#39;employeeStore&#39;,
 *         fields:[&#39;firstname&#39;, &#39;lastname&#39;, &#39;seniority&#39;, &#39;dep&#39;, &#39;hired&#39;],
 *         data:[
 *             {firstname:&quot;Michael&quot;, lastname:&quot;Scott&quot;},
 *             {firstname:&quot;Dwight&quot;, lastname:&quot;Schrute&quot;},
 *             {firstname:&quot;Jim&quot;, lastname:&quot;Halpert&quot;},
 *             {firstname:&quot;Kevin&quot;, lastname:&quot;Malone&quot;},
 *             {firstname:&quot;Angela&quot;, lastname:&quot;Martin&quot;}
 *         ]
 *     });
 *
 *     Ext.create(&#39;Ext.grid.Panel&#39;, {
 *         title: &#39;Action Column Demo&#39;,
 *         store: Ext.data.StoreManager.lookup(&#39;employeeStore&#39;),
 *         columns: [
 *             {text: &#39;First Name&#39;,  dataIndex:&#39;firstname&#39;},
 *             {text: &#39;Last Name&#39;,  dataIndex:&#39;lastname&#39;},
 *             {
 *                 xtype:&#39;actioncolumn&#39;,
 *                 width:50,
 *                 items: [{
 *                     icon: &#39;extjs-build/examples/shared/icons/fam/cog_edit.png&#39;,  // Use a URL in the icon config
 *                     tooltip: &#39;Edit&#39;,
 *                     handler: function(grid, rowIndex, colIndex) {
 *                         var rec = grid.getStore().getAt(rowIndex);
 *                         alert(&quot;Edit &quot; + rec.get(&#39;firstname&#39;));
 *                     }
 *                 },{
 *                     icon: &#39;extjs-build/examples/restful/images/delete.png&#39;,
 *                     tooltip: &#39;Delete&#39;,
 *                     handler: function(grid, rowIndex, colIndex) {
 *                         var rec = grid.getStore().getAt(rowIndex);
 *                         alert(&quot;Terminate &quot; + rec.get(&#39;firstname&#39;));
 *                     }
 *                 }]
 *             }
 *         ],
 *         width: 250,
 *         renderTo: Ext.getBody()
 *     });
 *
 * The action column can be at any index in the columns array, and a grid can have any number of
 * action columns.
 */
Ext.define(&#39;Ext.grid.column.Action&#39;, {
    extend: &#39;Ext.grid.column.Column&#39;,
    alias: [&#39;widget.actioncolumn&#39;],
    alternateClassName: &#39;Ext.grid.ActionColumn&#39;,

    requires: [
        &#39;Ext.grid.column.ActionProxy&#39;,
        &#39;Ext.Glyph&#39;
    ],

<span id='Ext-grid-column-Action-cfg-glyph'>    /**
</span>     * @cfg {Number/String} glyph
     * @inheritdoc Ext.panel.Header#glyph
     * @since 6.2.0
     */

<span id='Ext-grid-column-Action-cfg-icon'>    /**
</span>     * @cfg {String} [icon=Ext#BLANK_IMAGE_URL]
     * @inheritdoc Ext.panel.Header#icon
     */
<span id='Ext-grid-column-Action-cfg-iconCls'>    /**
</span>     * @cfg {String} iconCls
     * @inheritdoc Ext.panel.Header#cfg-iconCls
     * @localdoc **Note:** To determine the class dynamically, configure the Column with
     * a `{@link #getClass}` function.
     */
<span id='Ext-grid-column-Action-cfg-handler'>    /**
</span>     * @cfg {Function/String} handler
     * A function called when the icon is clicked.
     * @cfg {Ext.view.Table} handler.view The owning TableView.
     * @cfg {Number} handler.rowIndex The row index clicked on.
     * @cfg {Number} handler.colIndex The column index clicked on.
     * @cfg {Object} handler.item The clicked item (or this Column if multiple {@link #cfg-items} were not configured).
     * @cfg {Event} handler.e The click event.
     * @cfg {Ext.data.Model} handler.record The Record underlying the clicked row.
     * @cfg {HTMLElement} handler.row The table row clicked upon.
     * @controllable
     */
<span id='Ext-grid-column-Action-cfg-scope'>    /**
</span>     * @cfg {Object} scope
     * The scope (`this` reference) in which the `{@link #handler}`, 
     * `{@link #getClass}`, `{@link #cfg-isDisabled}` and `{@link #getTip}` functions 
     * are executed.
     * Defaults to this Column.
     */
<span id='Ext-grid-column-Action-cfg-tooltip'>    /**
</span>     * @cfg {String} tooltip
     * A tooltip message to be displayed on hover. {@link Ext.tip.QuickTipManager#init Ext.tip.QuickTipManager} must
     * have been initialized.
     *
     * The tooltip may also be determined on a row by row basis by configuring a {@link #getTip} method.
     */
<span id='Ext-grid-column-Action-cfg-disabled'>    /**
</span>     * @cfg {Boolean} disabled
     * If true, the action will not respond to click events, and will be displayed semi-opaque.
     *
     * This Column may also be disabled on a row by row basis by configuring a {@link #cfg-isDisabled} method.
     */
<span id='Ext-grid-column-Action-cfg-stopSelection'>    /**
</span>     * @cfg {Boolean} [stopSelection=true]
     * Prevent grid selection upon click.
     * Beware that if you allow for the selection to happen then the selection model will steal focus from
     * any possible floating window (like a message box) raised in the handler. This will prevent closing the
     * window when pressing the Escape button since it will no longer contain a focused component.
     */
     stopSelection: true,
<span id='Ext-grid-column-Action-cfg-getClass'>    /**
</span>     * @cfg {Function} getClass
     * A function which returns the CSS class to apply to the icon image.
     * 
     * For information on using the icons provided in the SDK see {@link #iconCls}.
     * @cfg {Object} getClass.v The value of the column&#39;s configured field (if any).
     * @cfg {Object} getClass.metadata An object in which you may set the following attributes:
     * @cfg {String} getClass.metadata.css A CSS class name to add to the cell&#39;s TD element.
     * @cfg {String} getClass.metadata.attr An HTML attribute definition string to apply to the data container
     * element *within* the table cell (e.g. &#39;style=&quot;color:red;&quot;&#39;).
     * @cfg {Ext.data.Model} getClass.r The Record providing the data.
     * @cfg {Number} getClass.rowIndex The row index.
     * @cfg {Number} getClass.colIndex The column index.
     * @cfg {Ext.data.Store} getClass.store The Store which is providing the data Model.
     */
    
<span id='Ext-grid-column-Action-cfg-isDisabled'>    /**
</span>     * @cfg {Function} isDisabled A function which determines whether the action item for any row is disabled and returns `true` or `false`.
     * @cfg {Ext.view.Table} isDisabled.view The owning TableView.
     * @cfg {Number} isDisabled.rowIndex The row index.
     * @cfg {Number} isDisabled.colIndex The column index.
     * @cfg {Object} isDisabled.item The clicked item (or this Column if multiple {@link #cfg-items} were not configured).
     * @cfg {Ext.data.Model} isDisabled.record The Record underlying the row.
     */
    
<span id='Ext-grid-column-Action-cfg-getTip'>    /**
</span>     * @cfg {Function} getTip A function which returns the tooltip string for any row.
     * 
     * *Note*: Outside of an Ext.application() use of this config requires 
     * {@link Ext.tip.QuickTipManager#init} to be called.
     * 
     *     Ext.tip.QuickTipManager.init();
     *     
     *     Ext.create(&#39;Ext.data.Store&#39;, {
     *         storeId: &#39;employeeStore&#39;,
     *         fields: [&#39;firstname&#39;, &#39;grade&#39;],
     *         data: [{
     *             firstname: &quot;Michael&quot;,
     *             grade: 50
     *         }, {
     *             firstname: &quot;Dwight&quot;,
     *             grade: 100
     *         }]
     *     });
     *     
     *     Ext.create(&#39;Ext.grid.Panel&#39;, {
     *         title: &#39;Action Column Demo&#39;,
     *         store: Ext.data.StoreManager.lookup(&#39;employeeStore&#39;),
     *         columns: [{
     *             text: &#39;First Name&#39;,
     *             dataIndex: &#39;firstname&#39;
     *         }, {
     *             text: &#39;Last Name&#39;,
     *             dataIndex: &#39;grade&#39;
     *         }, {
     *             xtype: &#39;actioncolumn&#39;,
     *             width: 50,
     *             icon: &#39;sample/icons/action-icons.png&#39;,
     *             getTip: function(value, metadata, record, row, col, store) {
     *                 var avg = store.average(&#39;grade&#39;),
     *                     grade = record.get(&#39;grade&#39;);
     *     
     *                 if (grade &lt; avg) {
     *                     metadata.tdCls = &quot;below-average&quot;;
     *                 }
     *     
     *                 return grade &gt; 70 ? &#39;Pass&#39; : &#39;Fail&#39;;
     *             },
     *             handler: function(grid, rowIndex, colIndex) {
     *                 var rec = grid.getStore().getAt(rowIndex);
     *                 alert(&quot;Edit &quot; + rec.get(&#39;firstname&#39;));
     *             }
     *         }],
     *         width: 250,
     *         renderTo: document.body
     *     });
     * 
     * @param {Object} value The value of the column&#39;s configured field (if any).
     * @param {Object} metadata An object in which you may set the following attributes:
     * @param {String} metadata.tdCls A CSS class name to add to the cell&#39;s TD element.
     * 
     *     metadata.tdCls = &quot;custom-cell-cls&quot;;
     * 
     * @param {String} metadata.tdAttr An HTML attribute definition string to apply to 
     * the data container element _within_ the table cell.
     * 
     *     metadata.tdCls = tdAttr = &quot;*&quot;;
     *     // * see https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes
     *     // be aware that setting cell attributes may override the cell layout
     *     // provided by the framework
     * 
     * @param {String} metadata.tdStyle An inline style for the table cell
     * 
     *     metadata.tdStyle = &quot;background-color:red;&quot;;
     * 
     * @param {Ext.data.Model} record The Record providing the data.
     * @param {Number} rowIndex The row index.
     * @param {Number} colIndex The column index.
     * @param {Ext.data.Store} store The Store which is providing the data Model.
     * @return {String} tip The tip text
     */
    
<span id='Ext-grid-column-Action-cfg-items'>    /**
</span>     * @cfg {Object[]} items
     * An Array which may contain multiple icon definitions, each element of which may contain:
     *
     * @cfg {String} items.icon The url of an image to display as the clickable element in the column.
     *
     * @cfg {String} items.iconCls A CSS class to apply to the icon element. To 
     * determine the class dynamically, configure the item with a `getClass` function.
     *
     * @cfg {Number} items.tabIndex The tabIndex attribute value for the action item. If this
     * value is not defined, {@link #itemTabIndex} will be used instead.
     *
     * @cfg {String} items.ariaRole The ARIA role attribute value for the action item. If this
     * value is not defined, {@link #itemAriaRole} will be used instead.
     * 
     * For information on using the icons provided in the SDK see {@link #iconCls}.
     *
     * @cfg {Function} items.getClass A function which returns the CSS class to apply to the icon image.
     * @cfg {Object} items.getClass.v The value of the column&#39;s configured field (if any).
     * @cfg {Object} items.getClass.metadata An object in which you may set the following attributes:
     * @cfg {String} items.getClass.metadata.css A CSS class name to add to the cell&#39;s TD element.
     * @cfg {String} items.getClass.metadata.attr An HTML attribute definition string to apply to the data
     * container element _within_ the table cell (e.g. &#39;style=&quot;color:red;&quot;&#39;).
     * @cfg {Ext.data.Model} items.getClass.r The Record providing the data.
     * @cfg {Number} items.getClass.rowIndex The row index.
     * @cfg {Number} items.getClass.colIndex The column index.
     * @cfg {Ext.data.Store} items.getClass.store The Store which is providing the data Model.
     *
     * @cfg {Function} items.handler A function called when the icon is clicked.
     * @cfg {Ext.view.Table} items.handler.view The owning TableView.
     * @cfg {Number} items.handler.rowIndex The row index clicked on.
     * @cfg {Number} items.handler.colIndex The column index clicked on.
     * @cfg {Object} items.handler.item The clicked item (or this Column if multiple {@link #cfg-items} were not configured).
     * @cfg {Event} items.handler.e The click event.
     * @cfg {Ext.data.Model} items.handler.record The Record underlying the clicked row.
     * @cfg {HTMLElement} items.row The table row clicked upon.
     *
     * @cfg {Function} items.isDisabled A function which determines whether the action item for any row is disabled and returns `true` or `false`.
     * @cfg {Ext.view.Table} items.isDisabled.view The owning TableView.
     * @cfg {Number} items.isDisabled.rowIndex The row index.
     * @cfg {Number} items.isDisabled.colIndex The column index.
     * @cfg {Object} items.isDisabled.item The clicked item (or this Column if multiple {@link #cfg-items} were not configured).
     * @cfg {Ext.data.Model} items.isDisabled.record The Record underlying the row.
     *
     * @cfg {Function} items.getTip A function which returns the tooltip string for any row.
     * @cfg {Object} items.getTip.v The value of the column&#39;s configured field (if any).
     * @cfg {Object} items.getTip.metadata An object in which you may set the following attributes:
     * @cfg {String} items.getTip.metadata.css A CSS class name to add to the cell&#39;s TD element.
     * @cfg {String} items.getTip.metadata.attr An HTML attribute definition string to apply to the data
     * container element _within_ the table cell (e.g. &#39;style=&quot;color:red;&quot;&#39;).
     * @cfg {Ext.data.Model} items.getTip.r The Record providing the data.
     * @cfg {Number} items.getTip.rowIndex The row index.
     * @cfg {Number} items.getTip.colIndex The column index.
     * @cfg {Ext.data.Store} items.getTip.store The Store which is providing the data Model.
     *
     * @cfg {Object} items.scope The scope (`this` reference) in which the `handler`, `getClass`, `isDisabled` and `getTip` functions
     * are executed. Fallback defaults are this Column&#39;s configured scope, then this Column.
     *
     * @cfg {String} items.tooltip A tooltip message to be displayed on hover.
     * {@link Ext.tip.QuickTipManager#init Ext.tip.QuickTipManager} must have been initialized.
     *
     * The tooltip may also be determined on a row by row basis by configuring a `getTip` method.
     *
     * @cfg {Boolean} items.disabled If true, the action will not respond to click events, and will be displayed semi-opaque.
     *
     * This item may also be disabled on a row by row basis by configuring an `isDisabled` method.
     */
<span id='Ext-grid-column-Action-property-items'>    /**
</span>     * @property {Array} items
     * An array of action items copied from the configured {@link #cfg-items items} configuration. Each will have
     * an `enable` and `disable` method added which will enable and disable the associated action, and
     * update the displayed icon accordingly.
     */

    actionIdRe: new RegExp(Ext.baseCSSPrefix + &#39;action-col-(\\d+)&#39;),

<span id='Ext-grid-column-Action-cfg-altText'>    /**
</span>     * @cfg {String} altText
     * The alt text to use for the image element.
     */
    altText: &#39;&#39;,

<span id='Ext-grid-column-Action-cfg-menuText'>    /**
</span>     * @cfg {String} [menuText=&lt;i&gt;Actions&lt;/i&gt;]
     * Text to display in this column&#39;s menu item if no {@link #text} was specified as a header.
     */
    menuText: &#39;&lt;i&gt;Actions&lt;/i&gt;&#39;,
    
<span id='Ext-grid-column-Action-cfg-itemTabIndex'>    /**
</span>     * @cfg {Number} [itemTabIndex=0] Default tabIndex attribute value for each action item.
     */
    itemTabIndex: 0,
    
<span id='Ext-grid-column-Action-cfg-itemAriaRole'>    /**
</span>     * @cfg {String} [itemAriaRole=&quot;button&quot;] Default ARIA role for each action item.
     */
    itemAriaRole: &#39;button&#39;,

<span id='Ext-grid-column-Action-cfg-ignoreExport'><span id='Ext-grid-column-Action-property-maskOnDisable'>    maskOnDisable: false, // Disable means the action(s)
</span></span>
    ignoreExport: true,

<span id='Ext-grid-column-Action-cfg-sortable'>    sortable: false,
</span>
<span id='Ext-grid-column-Action-property-innerCls'>    innerCls: Ext.baseCSSPrefix + &#39;grid-cell-inner-action-col&#39;,
</span>
<span id='Ext-grid-column-Action-property-actionIconCls'>    actionIconCls: Ext.baseCSSPrefix + &#39;action-col-icon&#39;,
</span>
<span id='Ext-grid-column-Action-method-constructor'>    constructor: function(config) {
</span>        var me = this,
            cfg = Ext.apply({}, config),
            // Items may be defined on the prototype
            items = cfg.items || me.items || [me],
            hasGetClass,
            i, len, item;

        me.origRenderer = cfg.renderer || me.renderer;
        me.origScope = cfg.scope || me.scope;

        me.renderer = me.scope = cfg.renderer = cfg.scope = null;

        // This is a Container. Delete the items config to be reinstated after construction.
        cfg.items = null;
        me.callParent([cfg]);

        // Items is an array property of ActionColumns
        me.items = items;

        for (i = 0, len = items.length; i &lt; len; ++i) {
            item = items[i];
            if (item.substr &amp;&amp; item[0] === &#39;@&#39;) {
                item = me.getAction(item.substr(1));
            }
            if (item.isAction) {
                items[i] = item.initialConfig;

                // Register an ActinoProxy as a Component with the Action.
                // Action methods will be relayed down into the targeted item set.
                item.addComponent(new Ext.grid.column.ActionProxy(me, items[i], i));
            }
            if (item.getClass) {
                hasGetClass = true;
            }
        }

        // Also need to check for getClass, since it changes how the cell renders
        if (me.origRenderer || hasGetClass) {
            me.hasCustomRenderer = true;
        }
    },

<span id='Ext-grid-column-Action-method-initComponent'>    initComponent: function() {
</span>        var me = this;
        me.callParent();
        if (me.sortable &amp;&amp; !me.dataIndex) {
            me.sortable = false;
        }
    },

<span id='Ext-grid-column-Action-method-defaultRenderer'>    // Renderer closure iterates through items creating an &lt;img&gt; element for each and tagging with an identifying
</span>    // class name x-action-col-{n}
    defaultRenderer: function(v, cellValues, record, rowIdx, colIdx, store, view) {
        var me = this,
            scope = me.origScope || me,
            items = me.items,
            len = items.length,
            i, item, ret, disabled, tooltip, altText, icon, glyph, tabIndex, ariaRole;

        // Allow a configured renderer to create initial value (And set the other values in the &quot;metadata&quot; argument!)
        // Assign a new variable here, since if we modify &quot;v&quot; it will also modify the arguments collection, meaning
        // we will pass an incorrect value to getClass/getTip
        ret = Ext.isFunction(me.origRenderer) ? me.origRenderer.apply(scope, arguments) || &#39;&#39; : &#39;&#39;;

        cellValues.tdCls += &#39; &#39; + Ext.baseCSSPrefix + &#39;action-col-cell&#39;;
        for (i = 0; i &lt; len; i++) {
            item = items[i];
            icon = item.icon;
            glyph = item.glyph;

            disabled = item.disabled || (item.isDisabled ? Ext.callback(item.isDisabled, item.scope || me.origScope, [view, rowIdx, colIdx, item, record], 0, me) : false);
            tooltip  = item.tooltip  || (item.getTip     ? Ext.callback(item.getTip, item.scope || me.origScope, arguments, 0, me) : null);
            altText  =                   item.getAltText ? Ext.callback(item.getAltText, item.scope || me.origScope, arguments, 0, me) : item.altText || me.altText;

            // Only process the item action setup once.
            if (!item.hasActionConfiguration) {
                // Apply our documented default to all items
                item.stopSelection = me.stopSelection;
                item.disable = Ext.Function.bind(me.disableAction, me, [i], 0);
                item.enable = Ext.Function.bind(me.enableAction, me, [i], 0);
                item.hasActionConfiguration = true;
            }

            // If the ActionItem is using a glyph, convert it to an Ext.Glyph instance so we can extract the data easily.
            if (glyph) {
                glyph = Ext.Glyph.fly(glyph);
            }

            // Pull in tabIndex and ariarRols from item, unless the item is this, in which case
            // that would be wrong, and the icon would get column header values.
            tabIndex = (item !== me &amp;&amp; item.tabIndex !== undefined) ? item.tabIndex : me.itemTabIndex;
            ariaRole = (item !== me &amp;&amp; item.ariaRole !== undefined) ? item.ariaRole : me.itemAriaRole;

            ret += &#39;&lt;&#39; + (icon ? &#39;img&#39; : &#39;div&#39;) + 
                (typeof tabIndex === &#39;number&#39; ? &#39; tabIndex=&quot;&#39; + tabIndex + &#39;&quot;&#39; : &#39;&#39;) +
                (ariaRole ? &#39; role=&quot;&#39; + ariaRole + &#39;&quot;&#39; : &#39; role=&quot;presentation&quot;&#39;) +
                (icon ? (&#39; alt=&quot;&#39; + altText + &#39;&quot; src=&quot;&#39; + item.icon + &#39;&quot;&#39;) : &#39;&#39;) +
                &#39; class=&quot;&#39; + me.actionIconCls + &#39; &#39; + Ext.baseCSSPrefix + &#39;action-col-&#39; + String(i) + &#39; &#39; +
                (disabled ? me.disabledCls + &#39; &#39; : &#39; &#39;) +
                (item.hidden ? Ext.baseCSSPrefix + &#39;hidden-display &#39; : &#39;&#39;) +
                (item.getClass ? Ext.callback(item.getClass, item.scope || me.origScope, arguments, undefined, me) : (item.iconCls || me.iconCls || &#39;&#39;)) + &#39;&quot;&#39; +
                (tooltip ? &#39; data-qtip=&quot;&#39; + tooltip + &#39;&quot;&#39; : &#39;&#39;) + (icon ? &#39;/&gt;&#39; : glyph ? (&#39; style=&quot;font-family:&#39; + glyph.fontFamily + &#39;&quot;&gt;&#39; + glyph.character + &#39;&lt;/div&gt;&#39;) : &#39;&gt;&lt;/div&gt;&#39;);
        }
        
        return ret;
    },

<span id='Ext-grid-column-Action-method-updater'>    updater: function(cell, value, record, view, dataSource) {
</span>        var cellValues = {};
        Ext.fly(cell).addCls(cellValues.tdCls).down(this.getView().innerSelector, true).innerHTML = this.defaultRenderer(value, cellValues, record, null, null, dataSource, view);
    },

<span id='Ext-grid-column-Action-method-enableAction'>    /**
</span>     * Enables this ActionColumn&#39;s action at the specified index.
     * @param {Number/Ext.grid.column.Action} index
     * @param {Boolean} [silent=false]
     */
    enableAction: function(index, silent) {
        var me = this;

        if (!index) {
            index = 0;
        } else if (!Ext.isNumber(index)) {
            index = Ext.Array.indexOf(me.items, index);
        }
        me.items[index].disabled = false;
        me.up(&#39;tablepanel&#39;).el.select(&#39;.&#39; + Ext.baseCSSPrefix + &#39;action-col-&#39; + index).removeCls(me.disabledCls);
        if (!silent) {
            me.fireEvent(&#39;enable&#39;, me);
        }
    },

<span id='Ext-grid-column-Action-method-disableAction'>    /**
</span>     * Disables this ActionColumn&#39;s action at the specified index.
     * @param {Number/Ext.grid.column.Action} index
     * @param {Boolean} [silent=false]
     */
    disableAction: function(index, silent) {
        var me = this;

        if (!index) {
            index = 0;
        } else if (!Ext.isNumber(index)) {
            index = Ext.Array.indexOf(me.items, index);
        }
        me.items[index].disabled = true;
        me.up(&#39;tablepanel&#39;).el.select(&#39;.&#39; + Ext.baseCSSPrefix + &#39;action-col-&#39; + index).addCls(me.disabledCls);
        if (!silent) {
            me.fireEvent(&#39;disable&#39;, me);
        }
    },

<span id='Ext-grid-column-Action-method-doDestroy'>    doDestroy: function() {
</span>        // Action column items property is an array, unlike the normal Container&#39;s MixedCollection.
        // If we don&#39;t null it here, parent doDestroy() can blow up.
        this.renderer = this.items = null;
        
        return this.callParent();
    },

<span id='Ext-grid-column-Action-method-processEvent'>    /**
</span>     * @private
     * Process and re-fire events routed from the Ext.panel.Table&#39;s processEvent method.
     * Also fires any configured click handlers. By default, cancels the mousedown event to prevent selection.
     * Returns the event handler&#39;s status to allow canceling of GridView&#39;s bubbling process.
     */
    processEvent: function(type, view, cell, recordIndex, cellIndex, e, record, row) {
        var me = this,
            target = e.getTarget(),
            key = type === &#39;keydown&#39; &amp;&amp; e.getKey(),
            match,
            item,
            disabled,
            cellFly = Ext.fly(cell);

        // Flag event to tell SelectionModel not to process it.
        e.stopSelection = !key &amp;&amp; me.stopSelection;

        // If the target was not within a cell (ie it&#39;s a keydown event from the View), then
        // IF there&#39;s only one action icon, action it. If there is more than one, the user must
        // invoke actionable mode to navigate into the cell.
        if (key &amp;&amp; (target === cell || !cellFly.contains(target))) {
            target = cellFly.query(&#39;.&#39; + me.actionIconCls, true);
            if (target.length === 1) {
                target = target[0];
            } else {
                return;
            }
        }

        // NOTE: The statement below tests the truthiness of an assignment.
        if (target &amp;&amp; (match = target.className.match(me.actionIdRe))) {
            item = me.items[parseInt(match[1], 10)];
            disabled = item.disabled || (item.isDisabled ?
                Ext.callback(item.isDisabled, item.scope || me.origScope,
                    [view, recordIndex, cellIndex, item, record], 0, me) : false);

            if (item &amp;&amp; !disabled) {
                // Do not allow focus to follow from this mousedown unless the grid is already in actionable mode
                if (type === &#39;mousedown&#39; &amp;&amp; !me.getView().actionableMode) {
                    e.preventDefault();
                }

                else if (type === &#39;click&#39; || (key === e.ENTER || key === e.SPACE)) {
                    Ext.callback(item.handler || me.handler, item.scope || me.origScope, [view, recordIndex, cellIndex, item, e, record, row], undefined, me);

                    // Handler could possibly destroy the grid, so check we&#39;re still available.
                    // 
                    // If the handler moved focus outside of the view, do not allow this event to propagate
                    // to cause any navigation.
                    if (view.destroyed) {
                        return false;
                    } else {
                        // If the record was deleted by the handler, refresh
                        // the position based upon coordinates.
                        if (!e.position.getNode()) {
                            e.position.refresh();
                        }
                        if (!view.el.contains(Ext.Element.getActiveElement())) {
                            return false;
                        }
                    }
                }
            }
        }

        return me.callParent(arguments);
    },

<span id='Ext-grid-column-Action-method-cascade'>    cascade: function(fn, scope) {
</span>        fn.call(scope||this, this);
    },

<span id='Ext-grid-column-Action-method-getRefItems'>    // Private override because this cannot function as a Container, and it has an items property which is an Array, NOT a MixedCollection.
</span>    getRefItems: function() {
        return [];
    },

<span id='Ext-grid-column-Action-property-privates'>    privates: {
</span>        getFocusables: function() {
            // Override is here to prevent the default behaviour which tries to access
            // this.items.items, which will be null.
            return [];
        },

        // Overriden method to always return a bitwise value that will result in a call to this column&#39;s updater.
        shouldUpdateCell: function() {
            return 2;
        }
    }
});
</pre>
</body>
</html>
