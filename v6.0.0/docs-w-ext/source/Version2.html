<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Ext-Version'>/**
</span> * @class Ext.Version
 *
 * A utility class that wraps around a version number string and provides convenient methods
 * to perform comparisons. A version number is expressed in the following general format:
 *
 *     major[.minor[.patch[.build[release]]]]
 * 
 * The `Version` instance holds various readonly properties that contain the digested form
 * of the version string. The numeric componnets of `major`, `minor`, `patch` and `build`
 * as well as the textual suffix called `release`.
 * 
 * Not depicted in the above syntax are three possible prefixes used to control partial
 * matching. These are &#39;^&#39; (the default), &#39;&gt;&#39; and &#39;~&#39;. These are discussed below.
 *
 * Examples:
 *
 *     var version = new Ext.Version(&#39;1.0.2beta&#39;); // or maybe &quot;1.0&quot; or &quot;1.2.3.4RC&quot;
 *     console.log(&quot;Version is &quot; + version); // Version is 1.0.2beta
 *
 *     console.log(version.getMajor()); // 1
 *     console.log(version.getMinor()); // 0
 *     console.log(version.getPatch()); // 2
 *     console.log(version.getBuild()); // 0
 *     console.log(version.getRelease()); // beta
 *
 * The understood values of `release` are assigned numberic equivalents for the sake of
 * comparsion. The order of these from smallest to largest is as follows:
 *
 *  * `&quot;dev&quot;`
 *  * `&quot;alpha&quot;` or `&quot;a&quot;`
 *  * `&quot;beta&quot;` or `&quot;b&quot;`
 *  * `&quot;RC&quot;` or `&quot;rc&quot;`
 *  * `&quot;#&quot;`
 *  * `&quot;pl&quot;` or `&quot;p&quot;`
 *
 * Any other (unrecognized) suffix is consider greater than any of these.
 * 
 * ## Comparisons
 * There are two forms of comparison that are commonly needed: full and partial. Full
 * comparison is simpler and is also the default.
 * 
 * Example:
 *
 *     var version = new Ext.Version(&#39;1.0.2beta&#39;);
 *
 *     console.log(version.isGreaterThan(&#39;1.0.1&#39;)); // True
 *     console.log(version.isGreaterThan(&#39;1.0.2alpha&#39;)); // True
 *     console.log(version.isGreaterThan(&#39;1.0.2RC&#39;)); // False
 *     console.log(version.isGreaterThan(&#39;1.0.2&#39;)); // False
 *     console.log(version.isLessThan(&#39;1.0.2&#39;)); // True
 *
 *     console.log(version.match(1.0)); // True (using a Number)
 *     console.log(version.match(&#39;1.0.2&#39;)); // True (using a String)
 * 
 * These comparisons are ultimately implemented by {@link Ext.Version#compareTo compareTo}
 * which returns -1, 0 or 1 depending on whether the `Version&#39; instance is less than, equal
 * to, or greater than the given &quot;other&quot; version.
 * 
 * For example:
 * 
 *      var n = version.compareTo(&#39;1.0.1&#39;);  // == 1  (because 1.0.2beta &gt; 1.0.1)
 *      
 *      n = version.compareTo(&#39;1.1&#39;);  // == -1
 *      n = version.compareTo(version); // == 0
 * 
 * ### Partial Comparisons
 * By default, unspecified version number fields are filled with 0. In other words, the
 * version number fields are 0-padded on the right or a &quot;lower bound&quot;. This produces the
 * most commonly used forms of comparsion:
 * 
 *      var ver = new Version(&#39;4.2&#39;);
 *
 *      n = ver.compareTo(&#39;4.2.1&#39;); // == -1  (4.2 promotes to 4.2.0 and is less than 4.2.1)
 * 
 * There are two other ways to interpret comparisons of versions of different length. The
 * first of these is to change the padding on the right to be a large number (scuh as
 * Infinity) instead of 0. This has the effect of making the version an upper bound. For
 * example:
 * 
 *      var ver = new Version(&#39;^4.2&#39;); // NOTE: the &#39;^&#39; prefix used
 *
 *      n = ver.compareTo(&#39;4.3&#39;); // == -1  (less than 4.3)
 *      
 *      n = ver.compareTo(&#39;4.2&#39;); // == 1   (greater than all 4.2&#39;s)
 *      n = ver.compareTo(&#39;4.2.1&#39;); // == 1
 *      n = ver.compareTo(&#39;4.2.9&#39;); // == 1
 * 
 * The second way to interpret this comparison is to ignore the extra digits, making the
 * match a prefix match. For example:
 * 
 *      var ver = new Version(&#39;~4.2&#39;); // NOTE: the &#39;~&#39; prefix used
 *
 *      n = ver.compareTo(&#39;4.3&#39;); // == -1
 *      
 *      n = ver.compareTo(&#39;4.2&#39;); // == 0
 *      n = ver.compareTo(&#39;4.2.1&#39;); // == 0
 * 
 * This final form can be useful when version numbers contain more components than are
 * important for certain comparisons. For example, the full version of Ext JS 4.2.1 is
 * &quot;4.2.1.883&quot; where 883 is the `build` number.
 * 
 * This is how to create a &quot;partial&quot; `Version` and compare versions to it:
 * 
 *      var version421ish = new Version(&#39;~4.2.1&#39;);
 *      
 *      n = version421ish.compareTo(&#39;4.2.1.883&#39;); // == 0
 *      n = version421ish.compareTo(&#39;4.2.1.2&#39;); // == 0
 *      n = version421ish.compareTo(&#39;4.2.1&#39;); // == 0
 *
 *      n = version421ish.compareTo(&#39;4.2&#39;); // == 1
 *
 * In the above example, &#39;4.2.1.2&#39; compares as equal to &#39;4.2.1&#39; because digits beyond the
 * given &quot;4.2.1&quot; are ignored. However, &#39;4.2&#39; is less than the &#39;4.2.1&#39; prefix; its missing
 * digit is filled with 0.
 */
(function() {
// @define Ext.Version
// @require Ext.String
    var // used by checkVersion to avoid temp arrays:
        checkVerTemp = [&#39;&#39;],
        endOfVersionRe = /([^\d\.])/,
        notDigitsRe = /[^\d]/g,
        plusMinusRe = /[\-+]/g,
        stripRe = /\s/g,
        underscoreRe = /_/g,
        toolkitNames = { classic: 1, modern: 1},
        Version;

    Ext.Version = Version = function(version, defaultMode) {
            var me = this,
                padModes = me.padModes,
                ch, i, pad, parts, release, releaseStartIndex, ver;

            if (version.isVersion) {
                version = version.version;
            }

            me.version = ver = String(version).toLowerCase().
                                    replace(underscoreRe, &#39;.&#39;).replace(plusMinusRe, &#39;&#39;);

            ch = ver.charAt(0);
            if (ch in padModes) {
                ver = ver.substring(1);
                pad = padModes[ch];
            } else {
                pad = defaultMode ? padModes[defaultMode] : 0; // careful - NaN is falsey!
            }
            me.pad = pad;

            releaseStartIndex = ver.search(endOfVersionRe);
            me.shortVersion = ver;

            if (releaseStartIndex !== -1) {
                me.release = release = ver.substr(releaseStartIndex, version.length);
                me.shortVersion = ver.substr(0, releaseStartIndex);
                release = Version.releaseValueMap[release] || release;
            }

            me.releaseValue = release || pad;
            me.shortVersion = me.shortVersion.replace(notDigitsRe, &#39;&#39;);

<span id='Ext-Version-property-parts'>            /**
</span>             * @property {Number[]} parts
             * The split array of version number components found in the version string.
             * For example, for &quot;1.2.3&quot;, this would be `[1, 2, 3]`.
             * @readonly
             * @private
             */
            me.parts = parts = ver.split(&#39;.&#39;);
            for (i = parts.length; i--; ) {
                parts[i] = parseInt(parts[i], 10);
            }
            if (pad === Infinity) {
                // have to add this to the end to create an upper bound:
                parts.push(pad);
            }

<span id='Ext-Version-property-major'>            /**
</span>             * @property {Number} major
             * The first numeric part of the version number string.
             * @readonly
             */
            me.major = parts[0] || pad;

<span id='Ext-Version-property-minor'>            /**
</span>             * @property {Number} [minor]
             * The second numeric part of the version number string.
             * @readonly
             */
            me.minor = parts[1] || pad;

<span id='Ext-Version-property-patch'>            /**
</span>             * @property {Number} [patch]
             * The third numeric part of the version number string.
             * @readonly
             */
            me.patch = parts[2] || pad;

<span id='Ext-Version-property-build'>            /**
</span>             * @property {Number} [build]
             * The fourth numeric part of the version number string.
             * @readonly
             */
            me.build = parts[3] || pad;

            return me;
    };

    Version.prototype = {
        isVersion: true,

        padModes: {
            &#39;~&#39;: NaN,
            &#39;^&#39;: Infinity
        },

<span id='Ext-Version-property-release'>        /**
</span>         * @property {String} [release=&quot;&quot;]
         * The release level. The following values are understood:
         * 
         *  * `&quot;dev&quot;`
         *  * `&quot;alpha&quot;` or `&quot;a&quot;`
         *  * `&quot;beta&quot;` or `&quot;b&quot;`
         *  * `&quot;RC&quot;` or `&quot;rc&quot;`
         *  * `&quot;#&quot;`
         *  * `&quot;pl&quot;` or `&quot;p&quot;`
         * @readonly
         */
        release: &#39;&#39;,

<span id='Ext-Version-method-compareTo'>        /**
</span>         * Compares this version instance to the specified `other` version.
         *
         * @param {String/Number/Ext.Version} other The other version to which to compare.
         * @return {Number} -1 if this version is less than the target version, 1 if this
         * version is greater, and 0 if they are equal.
         */
        compareTo: function (other) {
             // &quot;lhs&quot; == &quot;left-hand-side&quot;
             // &quot;rhs&quot; == &quot;right-hand-side&quot;
            var me = this,
                lhsPad = me.pad,
                lhsParts = me.parts,
                lhsLength = lhsParts.length,
                rhsVersion = other.isVersion ? other : new Version(other),
                rhsPad = rhsVersion.pad,
                rhsParts = rhsVersion.parts,
                rhsLength = rhsParts.length,
                length = Math.max(lhsLength, rhsLength),
                i, lhs, rhs;

            for (i = 0; i &lt; length; i++) {
                lhs = (i &lt; lhsLength) ? lhsParts[i] : lhsPad;
                rhs = (i &lt; rhsLength) ? rhsParts[i] : rhsPad;

                // When one or both of the values are NaN these tests produce false
                // and we end up treating NaN as equal to anything.
                if (lhs &lt; rhs) {
                    return -1;
                }
                if (lhs &gt; rhs) {
                    return 1;
                }
            }

            // same comments about NaN apply here...
            lhs = me.releaseValue;
            rhs = rhsVersion.releaseValue;
            if (lhs &lt; rhs) {
                return -1;
            }
            if (lhs &gt; rhs) {
                return 1;
            }

            return 0;
        },
               
<span id='Ext-Version-method-toString'>        /**
</span>         * Override the native `toString` method
         * @private
         * @return {String} version
         */
        toString: function() {
            return this.version;
        },

<span id='Ext-Version-method-valueOf'>        /**
</span>         * Override the native `valueOf` method
         * @private
         * @return {String} version
         */
        valueOf: function() {
            return this.version;
        },

<span id='Ext-Version-method-getMajor'>        /**
</span>         * Returns the major component value.
         * @return {Number}
         */
        getMajor: function() {
            return this.major;
        },

<span id='Ext-Version-method-getMinor'>        /**
</span>         * Returns the minor component value.
         * @return {Number}
         */
        getMinor: function() {
            return this.minor;
        },

<span id='Ext-Version-method-getPatch'>        /**
</span>         * Returns the patch component value.
         * @return {Number}
         */
        getPatch: function() {
            return this.patch;
        },

<span id='Ext-Version-method-getBuild'>        /**
</span>         * Returns the build component value.
         * @return {Number}
         */
        getBuild: function() {
            return this.build;
        },

<span id='Ext-Version-method-getRelease'>        /**
</span>         * Returns the release component text (e.g., &quot;beta&quot;).
         * @return {String}
         */
        getRelease: function() {
            return this.release;
        },

<span id='Ext-Version-method-getReleaseValue'>        /**
</span>         * Returns the release component value for comparison purposes.
         * @return {Number/String}
         */
        getReleaseValue: function() {
            return this.releaseValue;
        },

<span id='Ext-Version-method-isGreaterThan'>        /**
</span>         * Returns whether this version if greater than the supplied argument
         * @param {String/Number} target The version to compare with
         * @return {Boolean} `true` if this version if greater than the target, `false` otherwise
         */
        isGreaterThan: function(target) {
            return this.compareTo(target) &gt; 0;
        },

<span id='Ext-Version-method-isGreaterThanOrEqual'>        /**
</span>         * Returns whether this version if greater than or equal to the supplied argument
         * @param {String/Number} target The version to compare with
         * @return {Boolean} `true` if this version if greater than or equal to the target, `false` otherwise
         */
        isGreaterThanOrEqual: function(target) {
            return this.compareTo(target) &gt;= 0;
        },

<span id='Ext-Version-method-isLessThan'>        /**
</span>         * Returns whether this version if smaller than the supplied argument
         * @param {String/Number} target The version to compare with
         * @return {Boolean} `true` if this version if smaller than the target, `false` otherwise
         */
        isLessThan: function(target) {
            return this.compareTo(target) &lt; 0;
        },

<span id='Ext-Version-method-isLessThanOrEqual'>        /**
</span>         * Returns whether this version if less than or equal to the supplied argument
         * @param {String/Number} target The version to compare with
         * @return {Boolean} `true` if this version if less than or equal to the target, `false` otherwise
         */
        isLessThanOrEqual: function(target) {
            return this.compareTo(target) &lt;= 0;
        },

<span id='Ext-Version-method-equals'>        /**
</span>         * Returns whether this version equals to the supplied argument
         * @param {String/Number} target The version to compare with
         * @return {Boolean} `true` if this version equals to the target, `false` otherwise
         */
        equals: function(target) {
            return this.compareTo(target) === 0;
        },

<span id='Ext-Version-method-match'>        /**
</span>         * Returns whether this version matches the supplied argument. Example:
         *
         *     var version = new Ext.Version(&#39;1.0.2beta&#39;);
         *     console.log(version.match(1)); // true
         *     console.log(version.match(1.0)); // true
         *     console.log(version.match(&#39;1.0.2&#39;)); // true
         *     console.log(version.match(&#39;1.0.2RC&#39;)); // false
         *
         * @param {String/Number} target The version to compare with
         * @return {Boolean} `true` if this version matches the target, `false` otherwise
         */
        match: function(target) {
            target = String(target);
            return this.version.substr(0, target.length) === target;
        },

<span id='Ext-Version-method-toArray'>        /**
</span>         * Returns this format: [major, minor, patch, build, release]. Useful for comparison.
         * @return {Number[]}
         */
        toArray: function() {
            var me = this;
            return [me.getMajor(), me.getMinor(), me.getPatch(), me.getBuild(), me.getRelease()];
        },

<span id='Ext-Version-method-getShortVersion'>        /**
</span>         * Returns shortVersion version without dots and release
         * @return {String}
         */
        getShortVersion: function() {
            return this.shortVersion;
        },

<span id='Ext-Version-method-gt'>        /**
</span>         * Convenient alias to {@link Ext.Version#isGreaterThan isGreaterThan}
         * @param {String/Number/Ext.Version} target
         * @return {Boolean}
         */
        gt: function (target) {
            return this.compareTo(target) &gt; 0;
        },

<span id='Ext-Version-method-lt'>        /**
</span>         * Convenient alias to {@link Ext.Version#isLessThan isLessThan}
         * @param {String/Number/Ext.Version} target
         * @return {Boolean}
         */
        lt: function (target) {
            return this.compareTo(target) &lt; 0;
        },

<span id='Ext-Version-method-gtEq'>        /**
</span>         * Convenient alias to {@link Ext.Version#isGreaterThanOrEqual isGreaterThanOrEqual}
         * @param {String/Number/Ext.Version} target
         * @return {Boolean}
         */
        gtEq: function (target) {
            return this.compareTo(target) &gt;= 0;
        },

<span id='Ext-Version-method-ltEq'>        /**
</span>         * Convenient alias to {@link Ext.Version#isLessThanOrEqual isLessThanOrEqual}
         * @param {String/Number/Ext.Version} target
         * @return {Boolean}
         */
        ltEq: function (target) {
            return this.compareTo(target) &lt;= 0;
        }
    };

    Ext.apply(Version, {
        aliases: {
            from: {
                extjs: &#39;ext&#39;,
                core: &#39;core&#39;,
                touch: &#39;modern&#39;
            },
            to: {
                ext: [&#39;extjs&#39;],
                &#39;core&#39;: [&#39;core&#39;],
                modern: [&#39;touch&#39;]
            }
        },

<span id='Ext-Version-property-releaseValueMap'>        /**
</span>         * @private
         */
        releaseValueMap: {
            dev:   -6,
            alpha: -5,
            a:     -5,
            beta:  -4,
            b:     -4,
            rc:    -3,
            &#39;#&#39;:   -2,
            p:     -1,
            pl:    -1
        },

<span id='Ext-Version-static-method-getComponentValue'>        /**
</span>         * Converts a version component to a comparable value
         *
         * @static
         * @param {Object} value The value to convert
         * @return {Object}
         */
        getComponentValue: function(value) {
            return !value ? 0 : (isNaN(value) ? this.releaseValueMap[value] || value : parseInt(value, 10));
        },

<span id='Ext-Version-static-method-compare'>        /**
</span>         * Compare 2 specified versions by ensuring the first parameter is a `Version`
         * instance and then calling the `compareTo` method.
         *
         * @static
         * @param {String} current The current version to compare to
         * @param {String} target The target version to compare to
         * @return {Number} Returns -1 if the current version is smaller than the target version, 1 if greater, and 0 if they&#39;re equivalent
         */
        compare: function (current, target) {
            var ver = current.isVersion ? current : new Version(current);
            return ver.compareTo(target);
        },

        set: function (collection, packageName, version) {
            var aliases = Version.aliases.to[packageName],
                ver = version.isVersion ? version : new Version(version),
                i;

            collection[packageName] = ver;
            if (aliases) {
                for (i = aliases.length; i-- &gt; 0; ) {
                    collection[aliases[i]] = ver;
                }
            }

            return ver;
        }
    });

<span id='Ext'>    /**
</span>     * @class Ext
     */
    Ext.apply(Ext, {
<span id='Ext-property-compatVersions'>        /**
</span>         * @private
         */
        compatVersions: {},

<span id='Ext-property-versions'>        /**
</span>         * @private
         * 
         * Object containing version information for all packages utilized by your 
         * application. 
         * 
         * For a public getter, please see `Ext.getVersion()`.
         */
        versions: {},

<span id='Ext-property-lastRegisteredVersion'>        /**
</span>         * @private
         */
        lastRegisteredVersion: null,

<span id='Ext-method-getCompatVersion'>        /**
</span>         * Get the compatibility level (a version number) for the given package name. If
         * none has been registered with `Ext.setCompatVersion` then `Ext.getVersion` is
         * used to get the current version.
         *
         * @param {String} packageName The package name, e.g. &#39;core&#39;, &#39;touch&#39;, &#39;ext&#39;.
         * @since 5.0.0
         * @private
         */
        getCompatVersion: function (packageName) {
            var versions = Ext.compatVersions,
                compat;

            if (!packageName) {
                compat = versions.ext || versions.touch || versions.core;
            } else {
                compat = versions[Version.aliases.from[packageName] || packageName];
            }

            return compat || Ext.getVersion(packageName);
        },

<span id='Ext-method-setCompatVersion'>        /**
</span>         * Set the compatibility level (a version number) for the given package name.
         *
         * @param {String} packageName The package name, e.g. &#39;core&#39;, &#39;touch&#39;, &#39;ext&#39;.
         * @param {String/Ext.Version} version The version, e.g. &#39;4.2&#39;.
         * @since 5.0.0
         * @private
         */
        setCompatVersion: function (packageName, version) {
            Version.set(Ext.compatVersions, packageName, version);
        },

<span id='Ext-method-setVersion'>        /**
</span>         * Set version number for the given package name.
         *
         * @param {String} packageName The package name, e.g. &#39;core&#39;, &#39;touch&#39;, &#39;ext&#39;.
         * @param {String/Ext.Version} version The version, e.g. &#39;1.2.3alpha&#39;, &#39;2.4.0-dev&#39;.
         * @return {Ext}
         */
        setVersion: function (packageName, version) {
            if (packageName in toolkitNames) {
                Ext.toolkit = packageName;
            }
            Ext.lastRegisteredVersion = Version.set(Ext.versions, packageName, version);
            return this;
        },

<span id='Ext-method-getVersion'>        /**
</span>         * Get the version number of the supplied package name; will return the version of
         * the framework.
         *
         * @param {String} [packageName] The package name, e.g., &#39;core&#39;, &#39;touch&#39;, &#39;ext&#39;.
         * @return {Ext.Version} The version.
         */
        getVersion: function (packageName) {
            var versions = Ext.versions;

            if (!packageName) {
                return versions.ext || versions.touch || versions.core;
            }

            return versions[Version.aliases.from[packageName] || packageName];
        },

<span id='Ext-method-checkVersion'>        /**
</span>         * This method checks the registered package versions against the provided version
         * `specs`. A `spec` is either a string or an object indicating a boolean operator.
         * This method accepts either form or an array of these as the first argument. The
         * second argument applies only when the first is an array and indicates whether
         * all `specs` must match or just one.
         * 
         * ## Package Version Specifications
         * The string form of a `spec` is used to indicate a version or range of versions
         * for a particular package. This form of `spec` consists of three (3) parts:
         * 
         *  * Package name followed by &quot;@&quot;. If not provided, the framework is assumed.
         *  * Minimum version.
         *  * Maximum version.
         * 
         * At least one version number must be provided. If both minimum and maximum are
         * provided, these must be separated by a &quot;-&quot;.
         * 
         * Some examples of package version specifications:
         * 
         *      4.2.2           (exactly version 4.2.2 of the framework)
         *      4.2.2+          (version 4.2.2 or higher of the framework)
         *      4.2.2-          (version 4.2.2 or higher of the framework)
         *      4.2.1 - 4.2.3   (versions from 4.2.1 up to 4.2.3 of the framework)
         *      - 4.2.2         (any version up to version 4.2.1 of the framework)
         *      
         *      foo@1.0         (exactly version 1.0 of package &quot;foo&quot;)
         *      foo@1.0-1.3     (versions 1.0 up to 1.3 of package &quot;foo&quot;)
         * 
         * **NOTE:** This syntax is the same as that used in Sencha Cmd&#39;s package
         * requirements declarations.
         * 
         * ## Boolean Operator Specifications
         * Instead of a string, an object can be used to describe a boolean operation to
         * perform on one or more `specs`. The operator is either **`and`** or **`or`**
         * and can contain an optional **`not`**.
         * 
         * For example:
         * 
         *      {
         *          not: true,  // negates boolean result
         *          and: [
         *              &#39;4.2.2&#39;,
         *              &#39;foo@1.0.1 - 2.0.1&#39;
         *          ]
         *      }
         * 
         * Each element of the array can in turn be a string or object spec. In other
         * words, the value is passed to this method (recursively) as the first argument
         * so these two calls are equivalent:
         * 
         *      Ext.checkVersion({
         *          not: true,  // negates boolean result
         *          and: [
         *              &#39;4.2.2&#39;,
         *              &#39;foo@1.0.1 - 2.0.1&#39;
         *          ]
         *      });
         *
         *      !Ext.checkVersion([
         *              &#39;4.2.2&#39;,
         *              &#39;foo@1.0.1 - 2.0.1&#39;
         *          ], true);
         * 
         * ## Examples
         * 
         *      // A specific framework version
         *      Ext.checkVersion(&#39;4.2.2&#39;);
         * 
         *      // A range of framework versions:
         *      Ext.checkVersion(&#39;4.2.1-4.2.3&#39;);
         * 
         *      // A specific version of a package:
         *      Ext.checkVersion(&#39;foo@1.0.1&#39;);
         * 
         *      // A single spec that requires both a framework version and package
         *      // version range to match:
         *      Ext.checkVersion({
         *          and: [
         *              &#39;4.2.2&#39;,
         *              &#39;foo@1.0.1-1.0.2&#39;
         *          ]
         *      });
         * 
         *      // These checks can be nested:
         *      Ext.checkVersion({
         *          and: [
         *              &#39;4.2.2&#39;,  // exactly version 4.2.2 of the framework *AND*
         *              {
         *                  // either (or both) of these package specs:
         *                  or: [
         *                      &#39;foo@1.0.1-1.0.2&#39;,
         *                      &#39;bar@3.0+&#39;
         *                  ]
         *              }
         *          ]
         *      });
         * 
         * ## Version Comparisons
         * Version comparsions are assumed to be &quot;prefix&quot; based. That is to say, `&quot;foo@1.2&quot;`
         * matches any version of &quot;foo&quot; that has a major version 1 and a minor version of 2.
         * 
         * This also applies to ranges. For example `&quot;foo@1.2-2.2&quot;` matches all versions
         * of &quot;foo&quot; from 1.2 up to 2.2 regardless of the specific patch and build.
         * 
         * ## Use in Overrides
         * This methods primary use is in support of conditional overrides on an
         * `Ext.define` declaration.
         * 
         * @param {String/Array/Object} specs A version specification string, an object
         * containing `or` or `and` with a value that is equivalent to `specs` or an array
         * of either of these.
         * @param {Boolean} [matchAll=false] Pass `true` to require all specs to match.
         * @return {Boolean} True if `specs` matches the registered package versions.
         */
        checkVersion: function (specs, matchAll) {
            var isArray = Ext.isArray(specs),
                aliases = Version.aliases.from,
                compat = isArray ? specs : checkVerTemp,
                length = compat.length,
                versions = Ext.versions,
                frameworkVer = versions.ext || versions.touch,
                i, index, matches, minVer, maxVer, packageName, spec, range, ver;

            if (!isArray) {
                checkVerTemp[0] = specs;
            }

            for (i = 0; i &lt; length; ++i) {
                if (!Ext.isString(spec = compat[i])) {
                    matches = Ext.checkVersion(spec.and || spec.or, !spec.or);
                    if (spec.not) {
                        matches = !matches;
                    }
                } else {
                    if (spec.indexOf(&#39; &#39;) &gt;= 0) {
                        spec = spec.replace(stripRe, &#39;&#39;);
                    }

                    // For &quot;name@...&quot; syntax, we need to find the package by the given name
                    // as a registered package.
                    index = spec.indexOf(&#39;@&#39;);
                    if (index &lt; 0) {
                        range = spec;
                        ver = frameworkVer;
                    } else {
                        packageName = spec.substring(0, index);
                        if (!(ver = versions[aliases[packageName] || packageName])) {
                            // The package is not registered, so if we must matchAll then
                            // we are done - FAIL:
                            if (matchAll) {
                                return false;
                            }
                            // Otherwise this spec is not a match so we can move on to the
                            // next...
                            continue;
                        }
                        range = spec.substring(index+1);
                    }

                    // Now look for a version, version range or partial range:
                    index = range.indexOf(&#39;-&#39;);
                    if (index &lt; 0) {
                        // just a version or &quot;1.0+&quot;
                        if (range.charAt(index = range.length - 1) === &#39;+&#39;) {
                            minVer = range.substring(0, index);
                            maxVer = null;
                        } else {
                            minVer = maxVer = range;
                        }
                    } else if (index &gt; 0) {
                        // a range like &quot;1.0-1.5&quot; or &quot;1.0-&quot;
                        minVer = range.substring(0, index);
                        maxVer = range.substring(index+1); // may be empty
                    } else {
                        // an upper limit like &quot;-1.5&quot;
                        minVer = null;
                        maxVer = range.substring(index+1);
                    }

                    matches = true;
                    if (minVer) {
                        minVer = new Version(minVer, &#39;~&#39;); // prefix matching
                        matches = minVer.ltEq(ver);
                    }
                    if (matches &amp;&amp; maxVer) {
                        maxVer = new Version(maxVer, &#39;~&#39;); // prefix matching
                        matches = maxVer.gtEq(ver);
                    }
                } // string spec

                if (matches) {
                    // spec matched and we are looking for any match, so we are GO!
                    if (!matchAll) {
                        return true;
                    }
                } else if (matchAll) {
                    // spec does not match the registered package version
                    return false;
                }
            }

            // In the loop above, for matchAll we return FALSE on mismatch, so getting
            // here with matchAll means we had no mismatches. On the other hand, if we
            // are !matchAll, we return TRUE on match and so we get here only if we found
            // no matches.
            return !!matchAll;
        },

<span id='Ext-method-deprecate'>        /**
</span>         * Create a closure for deprecated code.
         *
         *     // This means Ext.oldMethod is only supported in 4.0.0beta and older.
         *     // If Ext.getVersion(&#39;extjs&#39;) returns a version that is later than &#39;4.0.0beta&#39;, for example &#39;4.0.0RC&#39;,
         *     // the closure will not be invoked
         *     Ext.deprecate(&#39;extjs&#39;, &#39;4.0.0beta&#39;, function() {
         *         Ext.oldMethod = Ext.newMethod;
         *
         *         ...
         *     });
         *
         * @param {String} packageName The package name
         * @param {String} since The last version before it&#39;s deprecated
         * @param {Function} closure The callback function to be executed with the specified version is less than the current version
         * @param {Object} scope The execution scope (`this`) if the closure
         * @private
         */
        deprecate: function(packageName, since, closure, scope) {
            if (Version.compare(Ext.getVersion(packageName), since) &lt; 1) {
                closure.call(scope);
            }
        }
    }); // End Versioning
}());

// load the cmd-5 style app manifest metadata now, if available...
(function (manifest){
    var packages = (manifest &amp;&amp; manifest.packages) || {},
        compat = manifest &amp;&amp; manifest.compatibility,
        name, pkg;
    
    for (name in packages) {
        pkg = packages[name];
        Ext.setVersion(name, pkg.version);
    }

    if (compat) {
        if (Ext.isString(compat)) {
            Ext.setCompatVersion(&#39;core&#39;, compat);
        } else {
            for (name in compat) {
                Ext.setCompatVersion(name, compat[name]);
            }
        }
    }

    if (!packages.ext &amp;&amp; !packages.touch) {
        Ext.setVersion(&#39;ext&#39;,&#39;6.2.0.981&#39;);Ext.setVersion(&#39;core&#39;,&#39;6.2.0.981&#39;);
    }
})(Ext.manifest);
</pre>
</body>
</html>
